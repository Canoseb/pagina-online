document.addEventListener("DOMContentLoaded",()=>{let o=JSON.parse(localStorage.getItem("carrito"))||[];function a(){let n=document.querySelector("tbody");var t,e;n&&(n.innerHTML="",o.forEach((t,e)=>{var r=document.createElement("tr");r.innerHTML=`
                <td>${t.nombre}</td>
                <td>$${t.precio}</td>
                <td>${t.cantidad}</td>
                <td>$${t.precio*t.cantidad}</td>
                <td><button class="btn-eliminar" data-index="${e}">Eliminar</button></td>
            `,n.appendChild(r)}),t=o.reduce((t,e)=>t+e.precio*e.cantidad,0),(e=document.querySelector(".total h3"))&&(e.textContent="Total: $"+t),document.querySelectorAll(".btn-eliminar").forEach(e=>{e.addEventListener("click",()=>{var t=e.getAttribute("data-index");t=t,o.splice(t,1),localStorage.setItem("carrito",JSON.stringify(o)),a()})}))}document.querySelectorAll(".producto button").forEach(r=>{r.addEventListener("click",()=>{var t=r.parentElement.querySelector("h3").textContent,e=parseFloat(r.parentElement.querySelector("p").textContent.replace("$","").replace(".",""));t={nombre:t=t,precio:e,cantidad:1},o.push(t),console.log(o),localStorage.setItem("carrito",JSON.stringify(o)),a()})});var t=document.querySelector(".total button");t&&t.addEventListener("click",()=>{alert("Procediendo al pago...")}),a()});